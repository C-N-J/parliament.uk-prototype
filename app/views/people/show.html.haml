%h1 #{@person.given_name} #{@person.family_name}
.block
  - if @current_incumbency && @current_incumbency.type == 'http://id.ukpds.org/schema/SeatIncumbency'
    %p
      = t('.mp_for')
      = link_to(@current_incumbency.constituency.name, constituency_path(@current_incumbency.constituency.graph_id))

  - if @current_party_membership
    %p= link_to(@current_party_membership.party.name, party_path(@current_party_membership.party.graph_id))

- if @current_incumbency && @current_incumbency.type == 'http://id.ukpds.org/schema/SeatIncumbency'
  .block
    .highlight__box
      %p= t('.mp_representative')


- if @current_incumbency
  %h2.bordered= t('.contact_title')
  .block
    - if @current_incumbency.contact_points.empty?
      %p= t('.empty_contact_details')
    - @current_incumbency.contact_points.each do |contact_point|
      %dl.list__definition
        %dt= "#{t('.email', email: t('email'))}"
        %dd
          %a{ :href => "mailto:#{contact_point.email}" }= contact_point.email
        %dt= "#{t('.phone', phone: t('phone'))}"
        %dd
          %a{ :href => "tel:#{contact_point.phone_number}" }= contact_point.phone_number
        %dt
          = "#{t('.address', address: t('address'))}"
          - contact_point.postal_addresses.each do |postal_address|
            %dd= postal_address.full_address

%h2.bordered= t('.election_history')
%ol.list
  %h3= t('hol')
  - if @house_incumbencies.empty?
    %p= t('.empty_election_history')
  - @house_incumbencies.sort{ |inc_a, inc_b| inc_b.start_date <=> inc_a.start_date }.each do |house_incumbency|
    %li.list__item--borderless-top
      %ul
        %li
          = "#{l(house_incumbency.start_date, format: :default)}" unless house_incumbency.start_date.nil?
          = house_incumbency.end_date.nil? ? " - Present" : " - #{l(house_incumbency.end_date, format: :default)}"

  %h3= t('hoc')
  - if @seat_incumbencies.empty?
    %p= t('.empty_election_history')
  - @seat_incumbencies.sort{ |inc_a, inc_b| inc_b.start_date <=> inc_a.start_date }.each do |seat_incumbency|
    %li.list__item--borderless-top
      %ul
        %li
          = t('.mp_for')
          = link_to(seat_incumbency.constituency.name, constituency_path(seat_incumbency.constituency.graph_id))
        %li
          = "#{l(seat_incumbency.start_date, format: :default)}" unless seat_incumbency.start_date.nil?
          = seat_incumbency.end_date.nil? ? " - Present" : " - #{l(seat_incumbency.end_date, format: :default)}"
